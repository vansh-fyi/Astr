<story_context>
  <story_id>7.1</story_id>
  <story_key>7-1-visual-polish-layout-fixes</story_key>
  <title>Visual Polish & Layout Fixes</title>
  <status>ready-for-dev</status>

  <user_story>
    <as_a>User</as_a>
    <i_want>the app layout to look perfect on my device</i_want>
    <so_that>the experience feels premium and broken UI doesn't distract me</so_that>
  </user_story>

  <acceptance_criteria>
    <criterion id="1">
      <description>Home Screen: Verify "Top 3" cards don't overflow on small screens; Verify Bortle/Cloud bars alignment.</description>
    </criterion>
    <criterion id="2">
      <description>Catalog Screen: Verify list item padding and tap targets.</description>
    </criterion>
    <criterion id="3">
      <description>Detail Screen: Verify graph rendering bounds; Ensure text is readable against background.</description>
    </criterion>
    <criterion id="4">
      <description>Navigation Bar: Ensure consistent height and padding across screens.</description>
    </criterion>
    <criterion id="5">
      <description>Responsiveness: UI must adapt gracefully to different screen sizes (e.g., iPhone SE vs iPhone 16 Pro Max).</description>
    </criterion>
    <criterion id="6">
      <description>Visual Regression Prevention: Existing UI aesthetics (colors, fonts, gradients) must be PRESERVED. No changes to "look and feel".</description>
    </criterion>
    <criterion id="7">
      <description>User Visual Approval: Story cannot be marked done until user explicitly approves visual result.</description>
    </criterion>
  </acceptance_criteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/epics.md</path>
        <title>Epics & Stories</title>
        <section>Story 7.1</section>
        <snippet>Goal: Stabilize UI layout and responsiveness. Focus on Home, Catalog, and Detail screens.</snippet>
      </doc>
    </docs>

    <code>
      <item>
        <path>lib/features/dashboard/presentation/home_screen.dart</path>
        <kind>screen</kind>
        <symbol>HomeScreen</symbol>
        <reason>Primary target for layout fixes (Top 3 cards, Bortle/Cloud bars).</reason>
      </item>
      <item>
        <path>lib/features/dashboard/presentation/widgets/highlight_card.dart</path>
        <kind>widget</kind>
        <symbol>HighlightCard</symbol>
        <reason>Component used in Top 3 list, likely source of overflow issues.</reason>
      </item>
      <item>
        <path>lib/features/catalog/presentation/screens/catalog_screen.dart</path>
        <kind>screen</kind>
        <symbol>CatalogScreen</symbol>
        <reason>Target for list item padding and tap target verification.</reason>
      </item>
      <item>
        <path>lib/features/catalog/presentation/screens/object_detail_screen.dart</path>
        <kind>screen</kind>
        <symbol>ObjectDetailScreen</symbol>
        <reason>Target for graph bounds and text readability checks.</reason>
      </item>
    </code>

    <dependencies>
      <dep>flutter</dep>
    </dependencies>
  </artifacts>

  <testing>
    <standards>
      Visual verification on multiple device sizes (simulators) is required.
    </standards>
    <ideas>
      <test id="1">Run on iPhone SE (small screen) to check for overflows.</test>
      <test id="2">Run on iPhone 16 Pro Max (large screen) to check for spacing issues.</test>
      <test id="3">Verify text contrast against background images/gradients.</test>
    </ideas>
  </testing>
</story_context>
